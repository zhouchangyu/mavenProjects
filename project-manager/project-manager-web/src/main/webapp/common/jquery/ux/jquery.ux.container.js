(function($){var opts={layout:"autolayout",location:false,layoutCfg:{},items:[],height:"100%",width:"100%",iframeSrc:null,plugins:[],contentEl:null};Tee.createComponent("Container",opts,Tee.Component.prototype,{initComponent:function(){this.locate();this.el.css({width:this.width,height:this.height,overflow:"hidden"});if(this.contentEl){this.contentEl=$(this.contentEl).show()}else{this.contentEl=$('<div class="jq-container"></div>')}this.el.append(this.contentEl);if(this.html){this.contentEl.html(this.html)}else{if(this.url){this.autoLoad()}else{if(this.iframeSrc){this.loadIframe()}else{if(this.items){this.doLayout()}}}}this.doPlugins()},autoLoad:function(){if(this.contentEl[0]){new Ajax.Updater(this.contentEl[0],this.url,{parameters:this.param,evalScripts:true})}},locate:function(){if(this.location&&$.browser.msie&&/[7,6]/.test($.browser.version)){function parseNumber(n){n=parseInt(n);return isNaN(n)?false:n}this.el.css({position:"absolute"});(typeof this.location=="object")||(this.location={});var op=this.el.offsetParent();this.location.top=parseNumber(this.location.top||this.el.css("top"));this.location.bottom=parseNumber(this.location.bottom||this.el.css("bottom"));this.location.left=parseNumber(this.location.left||this.el.css("left"));this.location.right=parseNumber(this.location.right||this.el.css("right"));if(this.location.top!=="false"&&this.location.bottom!=="false"){var height=op.height()-this.location.top-this.location.bottom;this.height=isNaN(height)?this.height:height}if(this.location.left!=="false"&&this.location.right!=="false"){var width=op.width()-this.location.left-this.location.right;this.width=isNaN(width)?this.width:width}this.el.css($.grep(this.location,function(k,v){return v==="false"}));var self=this;function resizeEvt(){if(self.location.top!=="false"&&self.location.bottom!=="false"){self.height=op.height()-self.location.top-self.location.bottom}if(self.location.left!=="false"&&self.location.right!=="false"){self.width=op.width()-self.location.left-self.location.right}var css={};isNaN(self.height)||(css.height=self.height);isNaN(self.width)||(css.width=self.width);self.el.css(css)}$(window).resize(resizeEvt)}},loadIframe:function(iframeSrc){this.iframeSrc=iframeSrc||this.iframeSrc;var contentEl=this.contentEl;this.iframe=$('<iframe border="0" frameborder="0" cellspacing="0" src="about:blank" style="overflow:auto;width:100%;height:100%;border:none;background-color:transparent;" allowTransparency="true"></iframe>');this.iframe.attr("id","iframe"+this.id);this.iframe.attr("name","iframe"+this.id);this.contentEl.addClass("jq-container-iframe");this.iframeDom=this.iframe[0];this.iframeDom.src=this.iframeSrc;this.contentEl.append(this.iframe)},reloadIframe:function(){this.iframeDom.src=this.iframeSrc},setSrc:function(src){this.iframeSrc=src;this.iframeDom.src=src},setHtml:function(html){this.html=html;this.contentEl.html(this.html)},doLayout:function(){var self=this;if(this.layout){if(Tee.layouts.register[this.layout]){if(!Tee.isCmp(this.layoutMgr)){this.layoutCfg.el=this.contentEl;this.layoutCfg.items=this.items;this.layoutCfg.owner=this;this.layoutMgr=new Tee.layouts.register[this.layout](this.layoutCfg)}Tee.compose(this,this.layoutMgr)}}},doPlugins:function(){var t=this;$.each(this.plugins,function(i,e){if(Tee.Plugins[e]){Tee.Plugins[e].apply(t,arguments)}})},compose:function(){var self=this;return{addItems:self.addItems,doSortable:self.doSortable,doLayout:self.doLayout,reloadIframe:self.reloadIframe,loadIframe:self.loadIframe,setSrc:self.setSrc,autoLoad:self.autoLoad,sortItems:self.sortItems,setHtml:self.setHtml}},destroy:function(){if(this.iframeDom){this.iframeDom.src="about: blank"}Tee.Component.prototype.destroy.call(this)}})})(jQuery);